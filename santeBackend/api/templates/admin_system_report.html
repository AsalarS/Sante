<!-- templates/pdf/admin_system_report.html -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>System Administration Report</title>
</head>
<body>
    <div class="header">
        <img src="{{ banner_path }}" alt="Logo" />
        <h1>System Administration Report</h1>
        <p>Generated on {{ stats.generated_at|date:"F j, Y H:i" }}</p>
    </div>

    <div class="section">
        <h2>User Statistics</h2>
        <div class="stats-grid">
            <div class="stat-box">
                <h3>Total Users: {{ stats.user_stats.total_users }}</h3>
                <table>
                    <tr>
                        <th>Role</th>
                        <th>Count</th>
                    </tr>
                    {% for role, count in stats.user_stats.users_by_role.items %}
                    <tr>
                        <td>{{ role|title }}</td>
                        <td>{{ count }}</td>
                    </tr>
                    {% endfor %}
                </table>
            </div>
        </div>
    </div>

    <div class="section">
        <h2>Patient Statistics</h2>
        <div class="stats-grid">
            <div class="stat-box">
                <h3>Total Patients: {{ stats.patient_stats.total_patients }}</h3>
                <table>
                    <tr>
                        <th>Blood Type</th>
                        <th>Count</th>
                    </tr>
                    {% for blood_type, count in stats.patient_stats.patients_by_blood_type.items %}
                    <tr>
                        <td>{{ blood_type }}</td>
                        <td>{{ count }}</td>
                    </tr>
                    {% endfor %}
                </table>
            </div>
        </div>
    </div>

    <div class="section">
        <h2>Employee Statistics</h2>
        <div class="stats-grid">
            <div class="stat-box">
                <h3>Staff Overview</h3>
                <table>
                    <tr>
                        <td>Total Employees</td>
                        <td>{{ stats.employee_stats.total_employees }}</td>
                    </tr>
                    <tr>
                        <td>Doctors</td>
                        <td>{{ stats.employee_stats.doctors }}</td>
                    </tr>
                    <tr>
                        <td>Nurses</td>
                        <td>{{ stats.employee_stats.nurses }}</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <div class="section">
        <h2>Appointment Statistics</h2>
        <div class="stats-grid">
            <div class="stat-box">
                <h3>Overview</h3>
                <p>Total Appointments: {{ stats.appointment_stats.total_appointments }}</p>
                <p>Last 30 Days: {{ stats.appointment_stats.appointments_last_30_days }}</p>
                <table>
                    <tr>
                        <th>Status</th>
                        <th>Count</th>
                    </tr>
                    {% for status, count in stats.appointment_stats.appointments_by_status.items %}
                    <tr>
                        <td>{{ status }}</td>
                        <td>{{ count }}</td>
                    </tr>
                    {% endfor %}
                </table>
            </div>
        </div>
    </div>

    <div class="section">
        <h2>System Activity</h2>
        <div class="stats-grid">
            <div class="stat-box">
                <h3>Activity Overview</h3>
                <table>
                    <tr>
                        <td>Total System Logs</td>
                        <td>{{ stats.system_activity.total_logs }}</td>
                    </tr>
                    <tr>
                        <td>Logs (Last 30 Days)</td>
                        <td>{{ stats.system_activity.logs_last_30_days }}</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</body>
</html>